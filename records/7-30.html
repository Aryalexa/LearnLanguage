<!doctype html>
<html>
<head>
    <title>Día 7/30, 7/31, 8/1</title>

    <meta charset="utf-8" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/main.css">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Dosis' rel='stylesheet' type='text/css'>

</head>

<body>
<div class="all">
  <h2 class="font-dosis green">Hoy: 7/30, 7/31, 8/1</h2>

  <h3>Día anterior</h3>
  <ul>
    <li>Recaudación de información sobre 'Pronunciacion'</li>

  </ul>

  <h3>Planes para hoy</h3>
  <ul>
    <li>Continuar Android-Pronunciación, más detallado con implementacion</li>
    <li><b>record audio !</b></li>
  </ul>

  <h3>records</h3>
  <a href="http://www.hermosaprogramacion.com">hermosa programacion</a>
  <h4>
    Android-Pronunciación
  </h4>
  <ol>
    <li> <a href="http://stackoverflow.com/questions/604453/analyze-audio-using-fast-fourier-transform" target="_blank">
      StackOverflow - analyze-audio-using-fast-fourier-transform</a> Fast Fourier Transformation info!
    </li>
    <li> <a href="http://stackoverflow.com/questions/4024499/what-values-should-i-calculate-from-fft-of-two-audio-file-and-compare-it-to-show" target="_blank">
      StackOverflow - what-values-should-i-calculate-from-fft-of-two-audio-file-and-compare-it-to-show</a> </li>
    <li> <a href="http://stackoverflow.com/questions/21470012/apply-fft-to-audio-recording-in-java" target="_blank">
      StackOverflow - apply-fft-to-audio-recording-in-java</a>
    </li>
    <li> <a href="http://stackoverflow.com/questions/10277901/how-to-recognize-similar-sounds-techniques" target="_blank">
      StackOverflow - how-to-recognize-similar-sounds-techniques</a>
    </li>
    <li> <a href="http://stackoverflow.com/questions/3099124/audio-programming-sound-processing-and-dsp" target="_blank">
      StackOverflow - audio-programming-sound-processing-and-dsp</a>
    </li>
    <li> <a href="http://stackoverflow.com/questions/24210226/real-time-audio-processing-android" target="_blank">
      StackOverflow - real-time-audio-processing-android</a>
    </li>
    <li> <a href="http://stackoverflow.com/questions/2257075/real-time-audio-processing-in-android" target="_blank">
      StackOverflow - real-time-audio-processing-in-android</a>
    </li>
    <li> <a href="http://stackoverflow.com/questions/7404828/android-audio-analysis-in-real-time" target="_blank">
      StackOverflow - android-audio-analysis-in-real-time</a>
    </li>
    <li> <a href="http://stackoverflow.com/questions/4255359/how-would-you-compare-a-spoken-word-to-an-audio-file" target="_blank">
      StackOverflow - how-would-you-compare-a-spoken-word-to-an-audio-file</a>
    </li>
    <li> <a href="http://stackoverflow.com/questions/16520981/real-time-audio-denoise-using-fft-on-android" target="_blank">
      StackOverflow - real-time-audio-denoise-using-fft-on-android</a>
    </li>
    <li> <a href="http://stackoverflow.com/questions/10756214/how-to-compare-two-audio-data" target="_blank">
      StackOverflow - how-to-compare-two-audio-data</a> </li>
    <li> <a href="http://stackoverflow.com/questions/27891629/comparing-two-recorded-voices" target="_blank">
      StackOverflow - comparing-two-recorded-voices</a> </li>
    <li> <a href="http://stackoverflow.com/questions/4898630/acoustic-audio-comparing-library" target="_blank">
      StackOverflow - acoustic-audio-comparing-library</a> </li>
    <li> <a href="http://stackoverflow.com/questions/26471617/online-comparison-of-two-audio-files" target="_blank">
      StackOverflow - nline-comparison-of-two-audio-files</a> </li>
    <li> <a href="http://stackoverflow.com/questions/15763419/how-to-make-voice-recognition-check-against-a-local-database-in-android" target="_blank">
      StackOverflow - how-to-make-voice-recognition-check-against-a-local-database-in-android</a> </li>
    <li> Look for 'fft android' in StackOverflow</li>
    <li> Look for 'speech matching android' in stackOverflow</li>
    <li> Look for 'drawing voice waves android' in Google</li>
    <li> <a href="http://stackoverflow.com/questions/8583406/saving-audio-input-of-android-stock-speech-recognition-engine" target="_blank">
      StackOverflow - saving-audio-input-of-android-stock-speech-recognition-engine</a></li>
    <li> <a href="http://stackoverflow.com/questions/11862662/android-recording-audio-using-audiorecord-class-play-as-fast-forwarded" target="_blank">
      Stack Overflow - Recording: android-recording-audio-using-audiorecord-class-play-as-fast-forwarded</a> </li>
    <li> <a href="http://stackoverflow.com/questions/3802923/audio-filtering-android">
      Stack Overflow - filter anf FFT: audio-filtering-android</a>
      <br>Use AudioRecord class and then use the algorithm
      <br>Please do NOT use the FFT for this. (<a href="http://blog.bjornroche.com/2012/08/when-to-not-use-fft.html">X</a>)
      You most likely want to solve this problem using time domain filters.
      Here's a post to get you started writing your own filters in the time domain as easy as can be.
      However, a lot of people stumble on that since it's a bit specialized
      (<a href="http://blog.bjornroche.com/2012/08/basic-audio-eqs.html">X</a>),
      so if you want to use something built-in to android, start with the <b>equalizer audio effect</b>.
    </li>
    <li> <a href="http://stackoverflow.com/questions/14296596/how-to-completely-filter-a-frequency-range-android">
      Stack Overflow - Filtering: how-to-completely-filter-a-frequency-range-android</a>
      Impossible to filter out all frequencies bigger than x hz.
      SOL: Use Equalizer or implement my own FIR filter.
      Android's equalizer can only filter frequency ranges and there is no way you setup a low pass filter.
    </li>
  </ol>


  <h4>Record audio</h4>
  <p>
    continuacion día anterior
  </p>
  <ol>
    <li><a href="http://www.newventuresoftware.com/blog/record-play-and-visualize-raw-audio-data-in-android">
      recording 1</a>
      El sonido se graba en muestras discretas. La velocidad con la que se toman estas muestras se llama 'sample rate'.
      Se suele usar 44100 Hz para grabar sonidos, ie, se cogen 44100 muestras de la señal analógica cada segundo.
      El método más común de representar sonido analógico digitalmente se llama PCM (Pulse-code modulation)
      (the most common PCM bit depth is a signed short or 16 bits).
      Todo dispositivo android asoportan la captura de audio con 1 canal a 44100 Hz en 16-bit PCM encoding (Ver AudioFormat).
      <br>Usar AudioRecord class. Se necesita una fuente de audio, una config de canal, codificación y buffer size.
      <br>buffer size: está en bytes y representa el nñumero de bytes que podemos coger cada vez, usa getMinBufferSize
      <br><br>Empezamos a grabar, como cuanquier IO continua, debemos usar un thread distinto. Señalamos el inicio y el final
      de la grabacion con startRecording() y stop().
      <br>Cada vez que estemos leyendo datos, el sistema se quedará bloquado hasta completar el buffer (41s en el ejemplo).
      Se recomienda para los datos usar el clásico patron Productor-Consumidor.
    </li>
    <li> <a href="http://royvanrijn.com/blog/2010/06/creating-shazam-in-java/">transforming</a>.
      Tenemos un array de bytes. Pero tiene su dominio en el tiempo, no nos sirve (ver articulo
      <a href="https://laplacian.wordpress.com/2009/01/10/how-shazam-works/">how it works</a>),
      haremos un analisis de espectro, luego necesitamos hacer una transformacion.
      <br>Aplicaremos la <b>transformada de fourier</b>  lo que nos da un dominio de frecuencia.
      <br>El problema que podemos encontrar, al transformar los datos en unos con dominio la frecuencia, se pierde la información del tiempo.
      Sabremos la magnitud de todas las frecuencias pero no cuándo aparecen. Usaremos una 'ventana deslizante',
      cogeremos cachos de los datos y transformaremos solo este trozo.
      Sabremos la magnitud de todas las frecuencias de esta parte.
      Despues de hacer la transformacion FFT tenemos un array 2D con todos los chunks o trozos como Complex[],
       contiene las frecuencias de todos los datos.
      <a href="https://github.com/blanche/shayam">proyecto github</a>.
    </li>

    <li>
      <a href="http://stackoverflow.com/questions/34319751/how-to-implement-iir-band-pass-filter-for-an-input-audio-in-android">
        saving output !</a> (wav and txt). Search writeAudioDataToFile.
    </li>

    <li>
      <a href="http://stackoverflow.com/questions/12263671/audiotrack-android-playing-sounds-from-raw-folder">play wav</a>
      with AudioTrack
    </li>

    <li>Seraching for <b>'bandpass filter java'</b>, encontrado: una libreria para java (<a href="http://www.source-code.biz/dsp/java/">
      1</a>). Pero falla
      <pre><code>InputStream bandPassFilter(InputStream is){
          FilterPassType filterPassType = FilterPassType.valueOf("bandpass");
          FilterCharacteristicsType filterCharacteristicsType = FilterCharacteristicsType.valueOf("chebyshev");
          int filterOrder = 4;
          double ripple = -0.5;
          double fcf1 = 1000;
          double fcf2 = 200;

          //AudioInputStream inputStream = AudioSystem.getAudioInputStream(new File("h"));
          InputStream filterStream = IirFilterAudioInputStreamFisher.getAudioInputStream(is,
                filterPassType, filterCharacteristicsType, filterOrder, ripple, fcf1, fcf2);
          /*** No hay AudioInputStream en Android ***/
        }</code></pre>
    </li>
    <li>
      Implement my own filter: <a href="https://cardinalpeak.com/blog/a-c-class-to-implement-low-pass-high-pass-and-band-pass-filters/">2</a>
      (FIR-filter-class en Descargas). Además leer esto (<a href="http://blog.bjornroche.com/2012/08/basic-audio-eqs.html">X</a>)
      para ver si el filtro anterior en bueno o no. (Ver 21)
    </li>
    <li>
      Usar Equalizer(<a href="https://developer.android.com/reference/android/media/audiofx/Equalizer.html">></a>) class para filtrar, primero se tendria que guardar lo grabado y luego usarlo con MediaPlayer
      para obtener el id de la sesion
      (<a href="http://www.101apps.co.za/articles/perfect-sound-using-the-equalizer-effect-a-tutorial.html">3</a>)</li>
  </ol>
  <a href="http://blog.smartbear.com/programming/embedding-jython-in-java-applications/">more about python and android</a>

  <h4>Implementacion</h4>
  <p>
    Usamos <a href="http://royvanrijn.com/blog/2010/06/creating-shazam-in-java/">shazam in java</a> and
    <a href="http://www.newventuresoftware.com/blog/record-play-and-visualize-raw-audio-data-in-android">
      record and visualize in android</a>.
    <br>[yes] Hecho waveform en vivo: coge el sonido y muestra la onda en el dibujo,
    reproduce un archivo '.raw'. (<a href="https://github.com/newventuresoftware/WaveformControl">github code</a>)
    <br>[yes] Guardar in internal storage (usado record-audio-3)
    <br>[test] Filter - Hecha una clase para el filtro bandpass. Adaptar a lo que quiero y probar (<a
    href="https://cardinalpeak.com/blog/a-c-class-to-implement-low-pass-high-pass-and-band-pass-filters/">guide</a>)
    <br>[] Filter - equalizer?
    <br>[] FFT

  </p>
  <br>
</div>

</body>
</html>
